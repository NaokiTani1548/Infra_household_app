ssh -i ./src/household-dev-keypair.pem ec2-user@X.X.X.X

## サービスの状態確認

$ sudo systemctl status springboot
$ sudo systemctl restart springboot

## ログの確認

$ sudo journalctl -u springboot -f

## Java プロセスの確認

$ ps aux | grep java

## ポートの LISTEN 確認

$ sudo ss -ltnp | grep 8080
$ curl http://X.X.X.X:8080/

## MySQL 側

$ sudo systemctl start mysqld
$ sudo systemctl status mysqld
$ sudo grep 'temporary password' /var/log/mysqld.log

## 接続

$ sudo mysql -u root -p
$ ALTER USER 'root'@'localhost' IDENTIFIED BY 'Hitandrun48.';
$ CREATE DATABASE household_budget;
$ USE household_budget;
$ CREATE TABLE users (
id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
username VARCHAR(255) NOT NULL UNIQUE,
email VARCHAR(255) NOT NULL UNIQUE,
password VARCHAR(255) NOT NULL
);
$ CREATE TABLE expense (
id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
amount DOUBLE,
category VARCHAR(255),
date DATE,
user_id BIGINT NOT NULL
);

$ INSERT INTO users (id, username, email, password) VALUES
(1, 'test_user', 'test@example.com', 'hashed_password');

$ CREATE USER 'admin'@'%' IDENTIFIED BY 'Hitandrun48.';

# ctl+S でなぜかスラッシュ入るが消す ↓

$ GRANT ALL PRIVILEGES ON household_budget.\* TO 'admin'@'%';

$ FLUSH PRIVILEGES;
